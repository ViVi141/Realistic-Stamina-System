1. **修复负重缓存中的武器重量计算**
   - 修改 `SCR_EncumbranceCache.c` 中的 `UpdateCache()` 方法
   - 在回退方案中添加武器存储重量计算：`currentWeight = m_pCachedInventoryComponent.GetTotalWeight() + m_pCachedInventoryComponent.GetWeaponStorage().GetTotalWeight()`
   - 同样修改 `CheckAndUpdate()` 方法中的回退方案，确保一致性

2. **确保武器存储组件安全访问**
   - 在调用 `GetWeaponStorage()` 后添加空指针检查
   - 只有当武器存储组件存在时才累加其重量

3. **验证修复**
   - 检查所有涉及重量计算的代码路径
   - 确保修复后武器重量能正确计入总负重
   - 保持与官方 `GetTotalWeightOfAllStorages()` 方法的逻辑一致性

修复后，模组将正确计算主副武器的重量，解决"不计算枪械重量"的问题，使玩家背着重型步枪时的体力消耗符合现实情况。